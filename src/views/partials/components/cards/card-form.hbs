<form
    class="w-full max-w-xl rounded-md mx-auto p-4 bg-gray-50
        dark:bg-gray-700"
    hx-post="{{#if card.id}}/components/cards/{{ card.id }}/edit{{else}}/components/cards/new{{/if}}"
    hx-swap="outerHTML"
    hx-target="this"
    hx-indicator="#addSpinner"
    hx-disabled-elt="#saveButton"
>
    <fieldset>
        <legend class="text-gray-600 text-xl font-bold uppercase dark:text-gray-200 mb-4">
            {{#if card.id}}
                Edit Card
            {{else}}
                New Card
            {{/if}}
        </legend>
        <div class="mb-4 md:grid md:grid-cols-[160px_1fr] md:justify-start">
            <label class="text-sm text-gray-600 dark:text-gray-200 block pt-1" for="title">Title</label>
            <div>
                <input id="title" type="text" name="title"
                    value="{{#if card.title}}{{card.title}}{{/if}}"
                    class="w-full h-9 px-2 bg-white dark:bg-gray-500 dark:text-white border border-solid border-gray-300 rounded
                    focus:border-emerald-500 focus:outline outline-emerald-500">
                {{#if error}}
                    {{#if error.title}}
                        <p class="text-sm text-red-500">{{ error.title }}</p>
                    {{/if}}
                {{/if}}
            </div>
        </div>
        <div class="mb-4 md:grid md:grid-cols-[160px_1fr] md:justify-start">
            <label class="text-sm text-gray-500 dark:text-gray-200 block pt-1" for="description">Description</label>
            <div class="grid">
                <textarea name="description" id="description"
                    class="w-full min-h-20 p-2 m-0 bg-white dark:bg-gray-500 dark:text-white border border-solid border-gray-300 rounded
                    focus:border-emerald-500 focus:outline outline-emerald-500">{{#if card.description}}{{card.description}}{{/if}}</textarea>
                {{#if error}}
                    {{#if error.description}}
                        <p class="text-sm text-red-500">{{ error.description }}</p>
                    {{/if}}
                {{/if}}
            </div>
        </div>
        <div class="flex justify-end items-center gap-4">
            <button
                type="reset"
                class="min-w-32 h-8 inline-flex justify-center items-center gap-3
                    border border-solid border-emerald-500 text-emerald-500
                    text-sm uppercase px-4 rounded cursor-pointer hover:bg-emerald-50 dark:hover:bg-gray-700
                    focus:outline-emerald-500"
                >
                Reset
            </button>
            <button id="saveButton" class="min-w-32 h-8 inline-flex justify-center items-center gap-2
                bg-emerald-500 text-white text-sm uppercase
                px-4 rounded cursor-pointer hover:bg-emerald-600
                disabled:bg-gray-200 disabled:cursor-not-allowed
                focus:outline-emerald-300"
                type="submit"
            >
                {{#if card.id}}
                    Update
                {{else}}
                    Save
                {{/if}}
                <svg id="addSpinner" class="spinner" width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path
                        fill="currentColor"
                        d="m12 4a1 1 0 0 1 -1-1v-2a1 1 0 0 1 2 0v2a1 1 0 0 1 -1 1zm1 19v-2a1 1 0 0 0 -2 0v2a1 1 0 0 0 2 0zm-9-11a1 1 0 0 0 -1-1h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1zm20 0a1 1 0 0 0 -1-1h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1zm-6.621-7.285 1-1.731a1 1 0 0 0 -1.731-1l-1 1.731a1 1 0 0 0 .365 1.366.987.987 0 0 0 .5.135 1 1 0 0 0 .866-.501zm-10.03 17.3 1-1.731a1 1 0 0 0 -1.731-1l-1 1.731a1 1 0 0 0 .364 1.366.989.989 0 0 0 .5.135 1 1 0 0 0 .867-.498zm-2.27-14.028a1 1 0 0 0 -.364-1.366l-1.731-1a1 1 0 0 0 -1 1.731l1.731 1a1 1 0 0 0 1.366-.365zm17.3 10.031a1 1 0 0 0 -.364-1.367l-1.731-1a1 1 0 0 0 -1 1.731l1.731 1a.987.987 0 0 0 .5.135 1 1 0 0 0 .867-.499zm-14.392-12.939a1 1 0 0 0 .365-1.366l-1-1.731a1 1 0 0 0 -1.731 1l1 1.731a1 1 0 0 0 .866.5.987.987 0 0 0 .5-.134zm10.031 17.3a1 1 0 0 0 .364-1.366l-1-1.731a1 1 0 0 0 -1.731 1l1 1.731a1 1 0 0 0 1.367.364zm2.269-14.03 1.731-1a1 1 0 0 0 -1-1.731l-1.731 1a1 1 0 0 0 1 1.731zm-17.3 10.03 1.731-1a1 1 0 0 0 -1-1.731l-1.731 1a1 1 0 0 0 .5 1.866.987.987 0 0 0 .497-.132z" />
                </svg>
            </button>
        </div>
    </fieldset>
</form>
